<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ€„ Domino Cafe - Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
<style>
body {
  background: #228B22;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
  margin: 0;
  padding: 0;
}

h1 {
  margin-top: 20px;
}

/* Ø§Ù„Ø·Ø§ÙˆÙ„Ø© */
#table {
  width: 90%;
  height: 400px;
  margin: 20px auto;
  background: #006400;
  border-radius: 15px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† */
.player {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin: 10px auto;
}

/* Ø­Ø¬Ø±Ø© Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ */
.domino {
  width: 60px;
  height: 120px;
  background: white;
  color: black;
  margin: 5px;
  border-radius: 8px;
  font-weight: bold;
  font-size: 20px;
  display: flex;
  flex-direction: column;
  border: 2px solid black;
  cursor: pointer;
  user-select: none;
  transition: transform 0.2s;
}

.domino:hover {
  transform: scale(1.2);
}

.domino .top, .domino .bottom {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  border-bottom: 1px solid black;
}

.domino .bottom {
  border-bottom: none;
}

/* Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© */
#resetBtn {
  margin: 20px;
  padding: 10px 20px;
  font-size: 18px;
  border-radius: 10px;
  cursor: pointer;
}

/* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø· */
#scores {
  display: flex;
  justify-content: space-around;
  margin-top: 10px;
}
.score {
  background: #004d00;
  padding: 5px 15px;
  border-radius: 10px;
}
</style>
</head>
<body>

<h1>ğŸ€„ Domino Cafe - 4 Ù„Ø§Ø¹Ø¨ÙŠÙ†</h1>
<button id="resetBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>

<div id="scores">
  <div class="score" id="score1">Ø§Ù„Ù„Ø§Ø¹Ø¨ 1: 0</div>
  <div class="score" id="score2">Ø§Ù„Ù„Ø§Ø¹Ø¨ 2: 0</div>
  <div class="score" id="score3">Ø§Ù„Ù„Ø§Ø¹Ø¨ 3: 0</div>
  <div class="score" id="score4">Ø§Ù„Ù„Ø§Ø¹Ø¨ 4: 0</div>
</div>

<!-- Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† -->
<div id="player1" class="player"></div>
<div id="table"></div>
<div id="player2" class="player"></div>
<div id="player3" class="player"></div>
<div id="player4" class="player"></div>

<script>
// Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙ„ Ø£Ø­Ø¬Ø§Ø± Ø§Ù„Ø¯ÙˆÙ…ÙŠÙ†Ùˆ
const tiles = [];
for (let i=0;i<=6;i++){
  for (let j=i;j<=6;j++){
    tiles.push([i,j]);
  }
}

// Ø®Ù„Ø· Ø§Ù„Ø£Ø­Ø¬Ø§Ø±
function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

// Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
let players = [[],[],[],[]];
let scores = [0,0,0,0];

// ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø­Ø¬Ø§Ø± Ù„ÙƒÙ„ Ù„Ø§Ø¹Ø¨
function dealTiles(){
  const shuffled = shuffle([...tiles]);
  players[0] = shuffled.slice(0,7);
  players[1] = shuffled.slice(7,14);
  players[2] = shuffled.slice(14,21);
  players[3] = shuffled.slice(21,28);
}

// Ø±Ø³Ù… Ø§Ù„Ø­Ø¬Ø§Ø±
function renderTiles() {
  for(let i=0;i<4;i++){
    const playerDiv = document.getElementById("player"+(i+1));
    playerDiv.innerHTML="";
    players[i].forEach(tile=>{
      const div = document.createElement("div");
      div.className="domino";
      div.innerHTML=`<div class="top">${tile[0]}</div><div class="bottom">${tile[1]}</div>`;
      div.onclick = ()=>playTile(tile,div,i);
      playerDiv.appendChild(div);
    });
  }
}

// Ø§Ù„Ù„Ø¹Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙˆÙ„Ø©
const table = document.getElementById("table");
let currentPlayer = 0;

function playTile(tile,div,playerIndex){
  if(playerIndex!==currentPlayer) return alert("Ù„ÙŠØ³ Ø¯ÙˆØ±Ùƒ!");
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø±Ø© Ù…Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨
  players[playerIndex] = players[playerIndex].filter(t=>t!==tile);
  div.style.position="absolute";
  div.style.left=Math.random()*(table.clientWidth-70)+"px";
  div.style.top=Math.random()*(table.clientHeight-130)+"px";
  table.appendChild(div);

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
  scores[playerIndex]+=tile[0]+tile[1];
  document.getElementById("score"+(playerIndex+1)).innerText=`Ø§Ù„Ù„Ø§Ø¹Ø¨ ${playerIndex+1}: ${scores[playerIndex]}`;

  // ØªØºÙŠÙŠØ± Ø§Ù„Ø¯ÙˆØ±
  currentPlayer = (currentPlayer+1)%4;
  renderTiles();
}

// Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
document.getElementById("resetBtn").onclick = ()=>{
  table.innerHTML="";
  currentPlayer=0;
  scores=[0,0,0,0];
  document.getElementById("score1").innerText="Ø§Ù„Ù„Ø§Ø¹Ø¨ 1: 0";
  document.getElementById("score2").innerText="Ø§Ù„Ù„Ø§Ø¹Ø¨ 2: 0";
  document.getElementById("score3").innerText="Ø§Ù„Ù„Ø§Ø¹Ø¨ 3: 0";
  document.getElementById("score4").innerText="Ø§Ù„Ù„Ø§Ø¹Ø¨ 4: 0";
  dealTiles();
  renderTiles();
}

// Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
dealTiles();
renderTiles();
</script>

</body>
</html>
